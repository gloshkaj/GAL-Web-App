<!DOCTYPE html>
<html>
  <head>
    <title>Internship Web App</title>
    <style>
      body,html {height:100%}
      #map {
      width:100%;
      height:100%;
      border-color: blue;
      border-radius: 4px;
      box-shadow: black;
      }
    </style>
    <script src="http://maps.googleapis.com/maps/api/js?sensor=true"></script>
    <script>
      var map, myLatLng;
      function initGeolocation() {
      	if (navigator && navigator.geolocation) {
        var watchId = navigator.geolocation.watchPosition(function(p) {
        myLatlng = new google.maps.LatLng(p.coords.latitude, p.coords.longitude);
        if(map == undefined) {
          var myOptions = {
            zoom: 35,
            center: myLatlng,
            mapTypeId: google.maps.MapTypeId.ROADMAP
          }
          map = new google.maps.Map(document.getElementById('map'), myOptions);
        }
        else {
        map.panTo(myLatlng);
        console.log("New center is " + myLatLng);
        }
        for (m in myOptions) {
          	console.log(m + " : " + myOptions[m]);
        }
        var marker = new google.maps.Marker({position: myLatlng, map: map});
        marker.setMap(map);

        }, 
                                                          errorCallback,
                                                          {enableHighAccuracy:true,timeout:60000,maximumAge:0});
        } else {
          console.log('Geolocation is not supported');
        }
      }
     
      function errorCallback(){}
    </script>
  </head>
  <body onload="javascript:initGeolocation()">
    <div id="map">
    </div>
  </body>
</html>
